generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Obras {
  id          String       @id @default(uuid()) @db.Uuid
  nome        String       @db.VarChar(255)
  construtora String       @db.VarChar(255)
  valor_final String       @db.VarChar(255)
  created_at  DateTime     @default(now()) @db.Timestamptz(6)
  updated_at  DateTime     @default(now()) @updatedAt @db.Timestamptz(6)
  DadosObras  DadosObras[]

  @@map("obras")
}

model Funcionarios {
  id         String       @id @default(uuid()) @db.Uuid
  nome       String       @db.VarChar(255)
  cargo      String       @db.VarChar(255)
  DadosObras DadosObras[]

  @@map("funcionarios")
}

model DadosObras {
  id                String       @id @default(uuid()) @db.Uuid
  obra_id           String       @db.Uuid
  funcionario_id    String       @db.Uuid
  horas_trabalhadas Int          @db.Integer
  data              DateTime     @db.Timestamptz(6)
  created_at        DateTime     @default(now()) @db.Timestamptz(6)
  updated_at        DateTime     @default(now()) @updatedAt @db.Timestamptz(6)
  obra              Obras        @relation(fields: [obra_id], references: [id])
  funcionario       Funcionarios @relation(fields: [funcionario_id], references: [id])

  @@map("dados_obras")
}
